= Introduction

A *Kafka Connect* plugin for transferring data between Crux nodes and Kafka.

The Crux *source connector* will publish transacations on a node to a Kafka topic, and the *sink connector* can receive transactions from a Kafka topic and submit them to a node.

.Currently supported data formats
[#table-conversion%header,cols="d,d"]
|===
|Data format|Sink/Source
|JSON|Both
|Avro|Sink
|Transit|Source
|EDN|Both
|===

== Source Configuration

.*url*
* Destination URL of Crux HTTP end point
* Type: *String*
* Importance: *High*
* Default: _"http://localhost:3000"_

.*topic*
* The Kafka topic to publish data to
* Type: *String*
* Importance: *High*
* Default: _"connect-test"_

.*format*
* Format to send data out as: *edn*, *json* or *transit*
* Type: *String*
* Importance: *Low*
* Default: _"edn"_

.*mode*
* Mode to use: *tx* or *doc*
* Type: *String*
* Importance: *Low*
* Default: _"tx"_

.*batch.size*
* The maximum number of records the Source task can read from Crux at one time.
* Type: *Int*
* Importance: *LOW*
* Default: _2000_

== Sink Configuration

.*url*
* Destination URL of Crux HTTP end point
* Type: *String*
* Importance: *High*
* Default: _"http://localhost:3000"_

.*id.key*
* Record key to use as :crux.db/id
* Type: *String*
* Importance: *Low*
* Default: _"crux.db/id"_
